<!DOCTYPE html>
<html>
<head>
<title>Mountain Game Games</title>
<link rel="shortcut icon" href="mountainNoFade.png">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">

<!-- Modern Font -->
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">

<style>

/* ========== GLOBAL ========== */

* {
  box-sizing: border-box;
}

body {
  margin: 0;
  font-family: 'Inter', sans-serif;
  background-image: url(mountain.png);
  background-position: center;
  background-repeat: no-repeat;
  background-attachment: fixed;
  background-size: cover;
  color: #111;
}

/* Hide Scrollbar */
body::-webkit-scrollbar { display: none; }
body { -ms-overflow-style: none; scrollbar-width: none; }

/* ========== TITLE ========== */

h1 {
  text-align: center;
  font-size: 2.5rem;
  margin: 40px 0 20px;
  letter-spacing: 1px;
}

/* ========== GLASS CONTAINERS ========== */

.blueContainer,
.chat {
  background: rgba(255, 255, 255, 0.15);
  backdrop-filter: blur(15px);
  border-radius: 18px;
  padding: 25px;
  margin: 30px;
  box-shadow: 0 8px 25px rgba(0,0,0,0.2);
}

/* ========== GRID SYSTEM ========== */

.fiveGrid,
.flex-container {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
  gap: 25px;
  justify-items: center;
}

/* ========== GAME CARD ========== */

.game-link {
  text-decoration: none;
}

.game-tile {
  background: rgba(255,255,255,0.95);
  border-radius: 20px;
  padding: 12px;
  width: 170px;
  height: 230px;
  transition: all 0.25s ease;
  box-shadow: 0 5px 15px rgba(0,0,0,0.15);
}

.game-tile:hover {
  transform: translateY(-8px) scale(1.06);
  box-shadow: 0 14px 35px rgba(0,0,0,0.3);
}

.game-icon {
  width: 100%;
  height: 150px;
  object-fit: cover;
  border-radius: 14px;
}

.game-title {
  font-size: 1rem;
  margin-top: 10px;
  font-weight: 600;
  text-align: center;
  color: #222;
}

/* ========== SEARCH ========== */

#searchQuery {
  display: block;
  margin: 20px auto;
  width: 60%;
  max-width: 500px;
  padding: 14px;
  border-radius: 30px;
  border: none;
  outline: none;
  font-size: 1rem;
  box-shadow: 0 4px 15px rgba(0,0,0,0.15);
}

/* ========== BUTTONS ========== */

.niceButton {
  padding: 10px 20px;
  border-radius: 25px;
  border: none;
  background: linear-gradient(135deg, #4facfe, #00f2fe);
  color: white;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.2s ease;
}

.niceButton:hover {
  transform: translateY(-3px);
  box-shadow: 0 6px 18px rgba(0,0,0,0.3);
}

/* ========== DARK MODE ========== */

@media (prefers-color-scheme: dark) {

  body {
    background-image: url(mountainDark.png);
    color: #eee;
  }

  .game-tile {
    background: rgba(40,40,40,0.9);
  }

  .blueContainer,
  .chat {
    background: rgba(30,30,30,0.6);
  }

  #searchQuery {
    background: #222;
    color: #eee;
  }

  .game-title {
    color: #eee;
  }
}

</style>

<script src="main.js"></script>
</head>

<body>

<h1>Mountain Game Games</h1>

<!-- Search -->
<label style="display:block;text-align:center;">Search Games:</label>
<input type="search" id="searchQuery" onkeyup="startSearch()" placeholder="Search for a game..." autocomplete="off">

<!-- 5 Newest -->
<div class="blueContainer">
  <h2 style="text-align:center;">5 Newest Games</h2>
  <div id="5newHolder" class="fiveGrid"></div>
</div>

<!-- Games Grid -->
<div id="games" class="flex-container" style="margin:40px;"></div>

<!-- Chat Section -->
<div class="chat">
  <h3>Live Chat</h3>
  <button class="niceButton" onclick="fullPage(document.getElementById('thechat'))">Full Page</button>
  <p>Chat with everyone on the site!</p>
  <div id="chat"></div>
</div>

<script>

/* ===== Search Function ===== */

function startSearch() {
  var input = document.getElementById("searchQuery");
  var filter = input.value.toUpperCase();
  var li = document.getElementsByClassName("game-link");

  for (var i = 0; i < li.length; i++) {
    if (li[i].innerText.toUpperCase().indexOf(filter) > -1) {
      li[i].style.display = "";
    } else {
      li[i].style.display = "none";
    }
  }
}

/* ===== Display Games (Your Existing Logic Preserved) ===== */

function displayGames() {
  for (let i = 0; i < g.length; i++) {

    let uniName = g[i].n.toLowerCase().replace(/\s/g, '');
    let smallN = g[i].sn || uniName;
    let img = g[i].m || (smallN + '.png');
    let subFolder = g[i].f ? g[i].f + '/' : '';
    let fileEnding = g[i].h ? g[i].h : '.html';

    let gameCard = document.createElement("a");
    gameCard.classList.add("game-link");

    gameCard.innerHTML = `
      <div class="game-tile">
        <img class="game-icon" src="${img}" loading="lazy" alt="${g[i].n}">
        <div class="game-title">${g[i].n}</div>
      </div>
    `;

    gameCard.href = subFolder + smallN + fileEnding;

    if (i >= g.length - 5) {
      document.getElementById('5newHolder').appendChild(gameCard.cloneNode(true));
    }

    document.getElementById('games').appendChild(gameCard);
  }
}

/* ===== Chat ===== */

function joinChat() {
  document.getElementById('chat').innerHTML =
    "<iframe width='100%' height='350px' id='thechat' src='https://escaping.work/chat/' style='border-radius:15px;border:none;'></iframe>";
}

function fullPage(e){
  e.style = "position:fixed;width:100%;height:100%;top:0;left:0;z-index:100;";
}

/* ===== Your Game List (UNCHANGED) ===== */

var g = [
{ n:'The Mountain Game', sn:'mountain', m:'mountainNoFade.png' },
{ n:'Retro Bowl', sn:'retro', m:'retrobowl.png' },
{ n:'Slope' },
{ n:'Tube Jumpers', sn:'jumpers', m:'tube-jumpers.png' },
{ n:'2048' },
{ n:'Tetris' },
{ n:'Tom And Jerry', sn:'tandj', m:'tom-and-jerry.png' },
{ n:'Geometry Dash 1 & 2', sn:'dashHome', m:'geometry-dash.png', f:'dash' },
{ n:'Duck Life' },
{ n:'Flood Runner', sn:'floodRunner', m:'flood-runner.png' },
{ n:'Electro Man', sn:'ElectroMan', m:'electric-man.png' },
{ n:'World\'s Hardest Game', sn:'WorldsHardestGame', m:'worlds-hardest-game.png' },
{ n:'Chess' },
{ n:'Snake' },
{ n:'Cookie Clicker', sn:'cookie' },
{ n:'T-rex Game', sn:'t-rex-game', h:'/', m:'t-rex.jpeg' }
];

/* ===== Init ===== */

displayGames();
joinChat();

</script>

</body>
</html>
